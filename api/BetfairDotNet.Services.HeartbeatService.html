<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Class HeartbeatService
 </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Class HeartbeatService
 ">
      
      <link rel="icon" href="../favicon.ico">
      <link rel="stylesheet" href="../public/docfx.min.css">
      <link rel="stylesheet" href="../public/main.css">
      <meta name="docfx:navrel" content="../toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      
      
      
      <meta name="docfx:docurl" content="https://github.com/BrandonWoodward/BetfairDotNet/new/master/apiSpec/new?filename=BetfairDotNet_Services_HeartbeatService.md&amp;value=---%0Auid%3A%20BetfairDotNet.Services.HeartbeatService%0Asummary%3A%20&#39;*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax&#39;%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
  </head>

  <script type="module">
    import options from './../public/main.js'
    import { init } from './../public/docfx.min.js'
    init(options)
  </script>

  <script>
    const theme = localStorage.getItem('theme') || 'auto'
    document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
  </script>


  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="ManagedReference">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../index.html">
            <img id="logo" class="svg" src="../logo.svg" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" style="margin-top: -.65em; margin-left: -.8em" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="BetfairDotNet.Services.HeartbeatService">



  <h1 id="BetfairDotNet_Services_HeartbeatService" data-uid="BetfairDotNet.Services.HeartbeatService" class="text-break">
    Class HeartbeatService
  <a class="header-action link-secondary" title="View source" href="https://github.com/BrandonWoodward/BetfairDotNet/blob/master/src/BetfairDotNet/Services/HeartbeatService.cs/#L11"><i class="bi bi-code-slash"></i></a>
  </h1>

  <div class="facts text-secondary">
    <dl><dt>Namespace</dt><dd><a class="xref" href="BetfairDotNet.html">BetfairDotNet</a>.<a class="xref" href="BetfairDotNet.Services.html">Services</a></dd></dl>
  <dl><dt>Assembly</dt><dd>BetfairDotNet.dll</dd></dl>
  </div>

  <div class="markdown summary"><p>A service that provides functionalities for sending heartbeat messages.</p>
</div>
  <div class="markdown conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public sealed class HeartbeatService</code></pre>
  </div>




  <dl class="typelist inheritance">
    <dt>Inheritance</dt>
    <dd>
      <div><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object">object</a></div>
      <div><span class="xref">HeartbeatService</span></div>
    </dd>
  </dl>



  <dl class="typelist derived">
    <dt>Inherited Members</dt>
    <dd>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.equals#system-object-equals(system-object)">object.Equals(object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.equals#system-object-equals(system-object-system-object)">object.Equals(object, object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.gethashcode">object.GetHashCode()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.gettype">object.GetType()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.referenceequals">object.ReferenceEquals(object, object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.tostring">object.ToString()</a>
    </div>
  </dd></dl>






  <h2 class="section" id="methods">Methods
</h2>


  <a id="BetfairDotNet_Services_HeartbeatService_Heartbeat_" data-uid="BetfairDotNet.Services.HeartbeatService.Heartbeat*"></a>

  <h3 id="BetfairDotNet_Services_HeartbeatService_Heartbeat_System_Int32_" data-uid="BetfairDotNet.Services.HeartbeatService.Heartbeat(System.Int32)">
  Heartbeat(int)
  <a class="header-action link-secondary" title="View source" href="https://github.com/BrandonWoodward/BetfairDotNet/blob/master/src/BetfairDotNet/Services/HeartbeatService.cs/#L44"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Sends a heartbeat to manage positions automatically in case of lost connectivity to the Betfair API.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public Task&lt;HeartbeatReport&gt; Heartbeat(int preferredTimeoutSeconds)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>preferredTimeoutSeconds</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd><p>The maximum allowed period (in seconds) without a heartbeat before an automatic cancellation request is submitted.
Passing a value of 0 unregisters your heartbeat (or ignores if none is registered)
Errors during registration result in an UNEXPECTED_ERROR. If the timeout is outside the min-max range, it will default to the closest boundary.
Timeouts might change, so clients should use the returned actualTimeoutSeconds for subsequent heartbeats.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.threading.tasks.task-1">Task</a>&lt;<a class="xref" href="BetfairDotNet.Models.Heartbeat.HeartbeatReport.html">HeartbeatReport</a>&gt;</dt>
    <dd><p>A task that represents the asynchronous operation. The task result contains a <a class="xref" href="BetfairDotNet.Models.BetfairServerResponse-1.html">BetfairServerResponse&lt;T&gt;</a>
with the <a class="xref" href="BetfairDotNet.Models.Heartbeat.HeartbeatReport.html">HeartbeatReport</a>.</p>
</dd>
  </dl>







  <h4 class="section" id="BetfairDotNet_Services_HeartbeatService_Heartbeat_System_Int32__remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>The heartbeat operation helps customers manage their positions if their API clients lose connectivity.
If a heartbeat is missed within a specific time frame, Betfair will try to cancel all 'LIMIT' type bets
for the given customer on the exchange. However, there's no guarantee all bets will be cancelled,
as certain circumstances might prevent cancellation.</p>
<p>Manual intervention is strongly advised if connectivity is lost to ensure positions are managed correctly.
If the heartbeat service becomes unavailable, the heartbeat will be unregistered automatically. In this case,
positions should be managed manually until the service resumes. Note: heartbeat data might be lost if node failures occur,
potentially leading to unmanaged positions until the next heartbeat.</p>
</div>




  <a id="BetfairDotNet_Services_HeartbeatService_KeepAlive_" data-uid="BetfairDotNet.Services.HeartbeatService.KeepAlive*"></a>

  <h3 id="BetfairDotNet_Services_HeartbeatService_KeepAlive" data-uid="BetfairDotNet.Services.HeartbeatService.KeepAlive">
  KeepAlive()
  <a class="header-action link-secondary" title="View source" href="https://github.com/BrandonWoodward/BetfairDotNet/blob/master/src/BetfairDotNet/Services/HeartbeatService.cs/#L64"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>You can use Keep Alive to extend the session timeout period.
On the international (.com) Exchange the current session time is 12 hours.
You should request Keep Alive within this time to prevent session expiry.
If you don't call Keep Alive within the specified timeout period, the session will expire.
Please note:  Session times aren't determined or extended based on API activity.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public Task&lt;KeepAliveResponse&gt; KeepAlive()</code></pre>
  </div>


  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.threading.tasks.task-1">Task</a>&lt;<a class="xref" href="BetfairDotNet.Models.Heartbeat.KeepAliveResponse.html">KeepAliveResponse</a>&gt;</dt>
    <dd></dd>
  </dl>












</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/BrandonWoodward/BetfairDotNet/blob/master/src/BetfairDotNet/Services/HeartbeatService.cs/#L11" class="edit-link">Edit this page</a>
        </div>

        
      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>


    <footer class="border-top">
      <div class="container-xxl">
        <div class="flex-fill">
          <span>Made with <a href="https://dotnet.github.io/docfx">docfx</a></span>
        </div>
      </div>
    </footer>
  </body>
</html>